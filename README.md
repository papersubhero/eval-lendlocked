# Evaluation

This repo provides details on the evaluation and the prototype of the paper "LendLocked: Privacy \& Transparency for Digital Library Lending". 

## Recap of Construction

There are five subprotocols in our construction: Register, Borrow, Access, Return, Audit. 
In the evaluation, we focus on the Borrow and Audit subprotocol. 
It is because these two parts are where we introduce tailored cryptographic operations, and hence, create overhead compared to existing implementations of library lending systems. 

To justify our evaluation design, we provide a review of the functions in each subprotocol focusing on their realization cost. 

**Register** 
This subprotocol only runs once per U-R pair with standard operations widely seen in existing systems. Therefore, it will not become a bottleneck on the performance of our design. We hence do not measure Register subprotocol in the evaluation. 

- `PatronRegL` represents the (potentially physical) interactions that happen during patron registration. This is a standard procedure and our construction introduce no overhead (especially compare to the time spent on physical interactions).
- `GenRegReqU` outputs a registration request that contains a user secret which will be used later in U-R key pair generation. The generation and transmission of authentication information is a standard procedure, and hence, is not a bottleneck.
- `KeyGenRegR` requires a standard key generation function commonly seen in digital applications, and hence, is not a bottleneck.
- `ProcessRefReqL` adds a new leaf node to a Merkle tree which contains all registered verification keys. This is a standard and much more light-weight operation e.g., in large-scale transparency log for certificate transparency. Hence, it is not a bottleneck. 
- `FinishRegR` is a one-time verification, which is also standard e.g., in transparency log systems. 

**Borrow**
This subprotocol contains cryptographic operations and plays major role in user experience, and hence, is the focus of our evaluation. Please refer to the paper for exact measurement results in *Table 2*. 

**Access**
This subprotocol contains standard communication and computation operations in existing applications. Hence, Access subprotocol is not a bottleneck and we do not focus on it in the evaluation. 

- `PrepAccessU` contains only communication cost from U to R, which are prevalent in e.g., device-app communication.
- `GenLoadReqR` can contain a one-round communication with logBB with a lookup operation. This is a standard operation in client-server communication. It can follow with a local loading operation, which is prevalent in e-reading applications. Hence, this function is not a bottleneck. 
- `ProcessLoadReqL` is when L check (and allow download of) the content in its internal database. This is a standard operation in the current digital library systems. Hence, this function is not a bottleneck. 
- `ProcessLoadResR` is the same as downloading content in the ebook systems, and hence, not a bottleneck. 

**Return**
- `PrepRetU` is similar to `PrepAccessU` in Access subprotocol, it contains only communication cost from U to R, which are prevalent in e.g., device-app communication.
- `GenRetReqR`is a symmetric operation as `GenLoadReqR` in Borrow subprotocol, but with a much more light-weight computation: only need to provide the esk as a proof of knowledge on epk.
- `ProcessRetReqL` is a symmetric operation as `ProcessLoanReqL`, hence, we refer to the same measurement in *Table 2*. 
- `ProcessRetResR` contains a lookup on logBB with the reference location and the deletion of content, both are standard operations in digital applications e.g., email systems. 

**Audit**
This subprotocol runs by an audior offline. It does not affect user experience, however, the scalability matters especially for libraries with a large amount of circulations. We provide measurements in the scenario of small, medium, and the largest libraries. Please refer to the paper for exact measurement results in *Section BenchMark Audit Protocol*. 

## Folder Structure

- `unit_test` contains small components of code for testing purpose, i.e., simple conjunction, Merkle tree membership proof, Pedersen signature
- `audit_microbenchmark` contains simple python implementation of ECDSA and SHA-256 for measuring the computation time
- `borrow_benchmark`contains the source code of ZoKrates circuit for evaluating the borrow protocol in the submission, and the measurement result from a MacBook as reported in the submission


## Installation

#### ZoKrates

Please follow the instruction on the [official page](https://zokrates.github.io/gettingstarted.html) to install ZoKrates, the library we used for NIZK implementation. 

For MacBook, just run
```bash
curl -LSfs get.zokrat.es | sh
```

#### How to use Zokrates

1. run `python3 create-input.py` to generate input for the witness computation
2. compile the `zok` source code `zokrates compile -i loan_proof.zok`
3. compute witness using the output of `create-input.py` as the input
```bash
zokrates compute-witness -a [paste the output from create-input.py]
```
4. set up the keys `zokrates setup`
5. generate proof `zokrates generate-proof`
6. verify proof `zokrates verify`


## Reproduce Evaluation Measurements

We use [hyperfine](https://github.com/sharkdp/hyperfine) to report the run time statistics with 5 repetitions.

#### Depth 30 measurement

```bash
(env) user@pc measure % hyperfine --runs 5 'zokrates compute-witness -a 5413980899118465542709338187985927099946023104380587558708760784076370402679 13559361317060322134243849347796948411410929422619640471537448734835416242181 12283510326236185832293464952563405965180772854807322164842563978169264332518 8978505579375399646320818993928802414032629439316734129410281158078994193365 4774832178961306656509361610331319603377800840432056428735728225965307109614 3814687126 4207057211 2301474087 1696421512 1054042432 4114589074 2402006685 2358319779 2636307903 771130895 3338794104 910337493 3941248527 2566242658 3403499691 2178970740 2780070436 59738663 1645461473 534297178 1910759638 3322112274 1297763356 629541565 38654257 3305789272 2153894818 222417624 3572959456 4252490776 2872080752 2967572678 1 0 0 0 0 0 0 0 0 0 2576817173 85244481 2596561856 2255375492 2794840420 1782105243 2233078322 224377663 2868205599 2537009619 1620830863 3872042866 3969069788 1888500782 3572146597 3847022253 2836095705 235016979 3924538583 2295676569 1346335958 4045419796 3885894217 2899768670 2662873574 2776819738 4169635575 215831002 2546324098 2868684311 1621128226 2970965221 2764362413 2154280342 2932117484 1459218082 2997336012 1549461915 101902398 2264250305 2930015840 2321511960 1470280671 155374319 2535829433 1029561825 2723201146 2038818870 280440794 2669576670 213771388 1616405657 2083766662 3260669584 1831970450 1710683843 2408855228 1079018165 2214813011 2125881869 799556152 241244772 2789497932 1981448089 2396270100 581138062 183963467 1786945471 909715492 3791725341 50298776 3912496056 2291351018 1747045928 583503599 3609069204 2296515330 3978121736 3936207279 4136468773 2780070436 59738663 1645461473 534297178 1910759638 3322112274 1297763356 629541565 38654257 3305789272 2153894818 222417624 3572959456 4252490776 2872080752 2967572678 1 0 0 0 0 0 0 0 0 0 2576817173 85244481 2596561856 2255375492 2794840420 1782105243 2233078322 224377663 2868205599 2537009619 1620830863 3872042866 3969069788 1888500782 3572146597 3847022253 2836095705 235016979 3924538583 2295676569 1346335958 4045419796 3885894217 2899768670 2662873574 2776819738 4169635575 215831002 2546324098 2868684311 1621128226 2970965221 2764362413 2154280342 2932117484 1459218082 2997336012 1549461915 101902398 2264250305 2930015840 2321511960 1470280671 155374319 2535829433 1029561825 2723201146 2038818870 280440794 2669576670 213771388 1616405657 2083766662 3260669584 1831970450 1710683843 2408855228 1079018165 2214813011 2125881869 799556152 241244772 2789497932 1981448089 2396270100 581138062 183963467 1786945471 909715492 3791725341 50298776 3912496056 2291351018 1747045928 583503599 3609069204 2296515330 3978121736 3936207279 4136468773 2780070436 59738663 1645461473 534297178 1910759638 3322112274 1297763356 629541565 38654257 3305789272 2153894818 222417624 3572959456 4252490776 2872080752 2967572678 1 0 0 0 0 0 0 0 0 0 2576817173 85244481 2596561856 2255375492 2794840420 1782105243 2233078322 224377663 2868205599 2537009619 1620830863 3872042866 3969069788 1888500782 3572146597 3847022253 2836095705 235016979 3924538583 2295676569 1346335958 4045419796 3885894217 2899768670 2662873574 2776819738 4169635575 215831002 2546324098 2868684311 1621128226 2970965221 2764362413 2154280342 2932117484 1459218082 2997336012 1549461915 101902398 2264250305 2930015840 2321511960 1470280671 155374319 2535829433 1029561825 2723201146 2038818870 280440794 2669576670 213771388 1616405657 2083766662 3260669584 1831970450 1710683843 2408855228 1079018165 2214813011 2125881869 799556152 241244772 2789497932 1981448089 2396270100 581138062 183963467 1786945471 909715492 3791725341 50298776 3912496056 2291351018 1747045928 583503599 3609069204 2296515330 3978121736 3936207279 4136468773' --export-json 30_zok_compute_witness.json
Benchmark 1: zokrates compute-witness -a 5413980899118465542709338187985927099946023104380587558708760784076370402679 13559361317060322134243849347796948411410929422619640471537448734835416242181 12283510326236185832293464952563405965180772854807322164842563978169264332518 8978505579375399646320818993928802414032629439316734129410281158078994193365 4774832178961306656509361610331319603377800840432056428735728225965307109614 3814687126 4207057211 2301474087 1696421512 1054042432 4114589074 2402006685 2358319779 2636307903 771130895 3338794104 910337493 3941248527 2566242658 3403499691 2178970740 2780070436 59738663 1645461473 534297178 1910759638 3322112274 1297763356 629541565 38654257 3305789272 2153894818 222417624 3572959456 4252490776 2872080752 2967572678 1 0 0 0 0 0 0 0 0 0 2576817173 85244481 2596561856 2255375492 2794840420 1782105243 2233078322 224377663 2868205599 2537009619 1620830863 3872042866 3969069788 1888500782 3572146597 3847022253 2836095705 235016979 3924538583 2295676569 1346335958 4045419796 3885894217 2899768670 2662873574 2776819738 4169635575 215831002 2546324098 2868684311 1621128226 2970965221 2764362413 2154280342 2932117484 1459218082 2997336012 1549461915 101902398 2264250305 2930015840 2321511960 1470280671 155374319 2535829433 1029561825 2723201146 2038818870 280440794 2669576670 213771388 1616405657 2083766662 3260669584 1831970450 1710683843 2408855228 1079018165 2214813011 2125881869 799556152 241244772 2789497932 1981448089 2396270100 581138062 183963467 1786945471 909715492 3791725341 50298776 3912496056 2291351018 1747045928 583503599 3609069204 2296515330 3978121736 3936207279 4136468773 2780070436 59738663 1645461473 534297178 1910759638 3322112274 1297763356 629541565 38654257 3305789272 2153894818 222417624 3572959456 4252490776 2872080752 2967572678 1 0 0 0 0 0 0 0 0 0 2576817173 85244481 2596561856 2255375492 2794840420 1782105243 2233078322 224377663 2868205599 2537009619 1620830863 3872042866 3969069788 1888500782 3572146597 3847022253 2836095705 235016979 3924538583 2295676569 1346335958 4045419796 3885894217 2899768670 2662873574 2776819738 4169635575 215831002 2546324098 2868684311 1621128226 2970965221 2764362413 2154280342 2932117484 1459218082 2997336012 1549461915 101902398 2264250305 2930015840 2321511960 1470280671 155374319 2535829433 1029561825 2723201146 2038818870 280440794 2669576670 213771388 1616405657 2083766662 3260669584 1831970450 1710683843 2408855228 1079018165 2214813011 2125881869 799556152 241244772 2789497932 1981448089 2396270100 581138062 183963467 1786945471 909715492 3791725341 50298776 3912496056 2291351018 1747045928 583503599 3609069204 2296515330 3978121736 3936207279 4136468773 2780070436 59738663 1645461473 534297178 1910759638 3322112274 1297763356 629541565 38654257 3305789272 2153894818 222417624 3572959456 4252490776 2872080752 2967572678 1 0 0 0 0 0 0 0 0 0 2576817173 85244481 2596561856 2255375492 2794840420 1782105243 2233078322 224377663 2868205599 2537009619 1620830863 3872042866 3969069788 1888500782 3572146597 3847022253 2836095705 235016979 3924538583 2295676569 1346335958 4045419796 3885894217 2899768670 2662873574 2776819738 4169635575 215831002 2546324098 2868684311 1621128226 2970965221 2764362413 2154280342 2932117484 1459218082 2997336012 1549461915 101902398 2264250305 2930015840 2321511960 1470280671 155374319 2535829433 1029561825 2723201146 2038818870 280440794 2669576670 213771388 1616405657 2083766662 3260669584 1831970450 1710683843 2408855228 1079018165 2214813011 2125881869 799556152 241244772 2789497932 1981448089 2396270100 581138062 183963467 1786945471 909715492 3791725341 50298776 3912496056 2291351018 1747045928 583503599 3609069204 2296515330 3978121736 3936207279 4136468773
  Time (mean ± σ):      1.743 s ±  0.015 s    [User: 1.666 s, System: 0.074 s]
  Range (min … max):    1.728 s …  1.765 s    5 runs
 
(env) user@pc measure % hyperfine --runs 5 'zokrates setup' --export-json 30_zok_setup.json
Benchmark 1: zokrates setup
  Time (mean ± σ):      3.104 s ±  0.013 s    [User: 11.443 s, System: 0.328 s]
  Range (min … max):    3.085 s …  3.118 s    5 runs
 
(env) user@pc measure % hyperfine --runs 5 'zokrates generate-proof' --export-json 30_zok_gen_proof.json
Benchmark 1: zokrates generate-proof
  Time (mean ± σ):      2.757 s ±  0.011 s    [User: 7.808 s, System: 0.366 s]
  Range (min … max):    2.745 s …  2.775 s    5 runs
 
(env) user@pc measure % hyperfine --runs 5 'zokrates verify' --export-json 30_zok_verify.json
Benchmark 1: zokrates verify
  Time (mean ± σ):       5.4 ms ±   0.3 ms    [User: 3.9 ms, System: 1.1 ms]
  Range (min … max):     5.0 ms …   5.8 ms    5 runs
```

#### Depth 20 measurement

```bash
(env) user@pc 20-meas % zokrates compile -i 20_loan_proof.zok  
Compiling 20_loan_proof.zok

Compiled code written to 'out'
Number of constraints: 200192
(env) user@pc 20-meas % hyperfine --runs 5 'zokrates compute-witness -a 20605924405718679419152156234890871802704490495425241760641627615578194597899 13359152528618822644219829815948793665554129869239707450617736989828259954358 10235942479766049230187291174425886651371068853599309123442563179645847407842 19318305943143783678197635009040427730620072935183098632216209777161382442602 18070586637714813109991956321246341675168533472603625935722653696926272949029 3814687126 4207057211 2301474087 1696421512 1054042432 4114589074 2402006685 2358319779 2636307903 771130895 3338794104 910337493 3941248527 2566242658 3403499691 2178970740 2780070436 59738663 1645461473 534297178 1910759638 3322112274 1297763356 629541565 38654257 3305789272 2153894818 222417624 3572959456 4252490776 2872080752 2967572678 1 0 0 0 0 0 0 0 0 0 2576817173 85244481 2596561856 2255375492 2794840420 1782105243 2233078322 224377663 2868205599 2537009619 1620830863 3872042866 3969069788 1888500782 3572146597 3847022253 2836095705 235016979 3924538583 2295676569 1346335958 4045419796 3885894217 2899768670 2662873574 2776819738 4169635575 215831002 2546324098 2868684311 1621128226 2970965221 2764362413 2154280342 2932117484 1459218082 2997336012 1549461915 101902398 2264250305 2930015840 2321511960 1470280671 155374319 2535829433 1029561825 2723201146 2038818870 280440794 2669576670 213771388 1616405657 2083766662 3260669584 1831970450 1710683843 2408855228 1079018165 2214813011 2125881869 799556152 241244772 2789497932 1981448089 2396270100 581138062 183963467 1786945471 909715492 3791725341 50298776 3912496056 2291351018 1747045928 583503599 3609069204 2296515330 3978121736 3936207279 4136468773 2780070436 59738663 1645461473 534297178 1910759638 3322112274 1297763356 629541565 38654257 3305789272 2153894818 222417624 3572959456 4252490776 2872080752 2967572678 1 0 0 0 0 0 0 0 0 0 2576817173 85244481 2596561856 2255375492 2794840420 1782105243 2233078322 224377663 2868205599 2537009619 1620830863 3872042866 3969069788 1888500782 3572146597 3847022253 2836095705 235016979 3924538583 2295676569 1346335958 4045419796 3885894217 2899768670 2662873574 2776819738 4169635575 215831002 2546324098 2868684311 1621128226 2970965221 2764362413 2154280342 2932117484 1459218082 2997336012 1549461915 101902398 2264250305 2930015840 2321511960 1470280671 155374319 2535829433 1029561825 2723201146 2038818870 280440794 2669576670 213771388 1616405657 2083766662 3260669584 1831970450 1710683843 2408855228 1079018165 2214813011 2125881869 799556152 241244772 2789497932 1981448089 2396270100 581138062 183963467 1786945471 909715492 3791725341 50298776 3912496056 2291351018 1747045928 583503599 3609069204 2296515330 3978121736 3936207279 4136468773' --export-json 20_zok_compute_witness.json
Benchmark 1: zokrates compute-witness -a 20605924405718679419152156234890871802704490495425241760641627615578194597899 13359152528618822644219829815948793665554129869239707450617736989828259954358 10235942479766049230187291174425886651371068853599309123442563179645847407842 19318305943143783678197635009040427730620072935183098632216209777161382442602 18070586637714813109991956321246341675168533472603625935722653696926272949029 3814687126 4207057211 2301474087 1696421512 1054042432 4114589074 2402006685 2358319779 2636307903 771130895 3338794104 910337493 3941248527 2566242658 3403499691 2178970740 2780070436 59738663 1645461473 534297178 1910759638 3322112274 1297763356 629541565 38654257 3305789272 2153894818 222417624 3572959456 4252490776 2872080752 2967572678 1 0 0 0 0 0 0 0 0 0 2576817173 85244481 2596561856 2255375492 2794840420 1782105243 2233078322 224377663 2868205599 2537009619 1620830863 3872042866 3969069788 1888500782 3572146597 3847022253 2836095705 235016979 3924538583 2295676569 1346335958 4045419796 3885894217 2899768670 2662873574 2776819738 4169635575 215831002 2546324098 2868684311 1621128226 2970965221 2764362413 2154280342 2932117484 1459218082 2997336012 1549461915 101902398 2264250305 2930015840 2321511960 1470280671 155374319 2535829433 1029561825 2723201146 2038818870 280440794 2669576670 213771388 1616405657 2083766662 3260669584 1831970450 1710683843 2408855228 1079018165 2214813011 2125881869 799556152 241244772 2789497932 1981448089 2396270100 581138062 183963467 1786945471 909715492 3791725341 50298776 3912496056 2291351018 1747045928 583503599 3609069204 2296515330 3978121736 3936207279 4136468773 2780070436 59738663 1645461473 534297178 1910759638 3322112274 1297763356 629541565 38654257 3305789272 2153894818 222417624 3572959456 4252490776 2872080752 2967572678 1 0 0 0 0 0 0 0 0 0 2576817173 85244481 2596561856 2255375492 2794840420 1782105243 2233078322 224377663 2868205599 2537009619 1620830863 3872042866 3969069788 1888500782 3572146597 3847022253 2836095705 235016979 3924538583 2295676569 1346335958 4045419796 3885894217 2899768670 2662873574 2776819738 4169635575 215831002 2546324098 2868684311 1621128226 2970965221 2764362413 2154280342 2932117484 1459218082 2997336012 1549461915 101902398 2264250305 2930015840 2321511960 1470280671 155374319 2535829433 1029561825 2723201146 2038818870 280440794 2669576670 213771388 1616405657 2083766662 3260669584 1831970450 1710683843 2408855228 1079018165 2214813011 2125881869 799556152 241244772 2789497932 1981448089 2396270100 581138062 183963467 1786945471 909715492 3791725341 50298776 3912496056 2291351018 1747045928 583503599 3609069204 2296515330 3978121736 3936207279 4136468773
  Time (mean ± σ):      1.570 s ±  0.012 s    [User: 1.504 s, System: 0.063 s]
  Range (min … max):    1.559 s …  1.591 s    5 runs
(env) user@pc 20-meas % hyperfine --runs 5 'zokrates setup' --export-json 20_zok_setup.json
Benchmark 1: zokrates setup
  Time (mean ± σ):      2.794 s ±  0.063 s    [User: 9.706 s, System: 0.321 s]
  Range (min … max):    2.715 s …  2.862 s    5 runs
(env) user@pc 20-meas % hyperfine --runs 5 'zokrates generate-proof' --export-json 20_zok_gen_proof.json
Benchmark 1: zokrates generate-proof
  Time (mean ± σ):      2.447 s ±  0.012 s    [User: 6.908 s, System: 0.334 s]
  Range (min … max):    2.434 s …  2.463 s    5 runs
(env) user@pc 20-meas % hyperfine --runs 5 'zokrates verify' --export-json 20_zok_verify.json
Benchmark 1: zokrates verify
  Time (mean ± σ):       5.9 ms ±   1.1 ms    [User: 3.8 ms, System: 1.3 ms]
  Range (min … max):     5.2 ms …   7.7 ms    5 runs
 
  Warning: The first benchmarking run for this command was significantly slower than the rest (7.7 ms). This could be caused by (filesystem) caches that were not filled until after the first run. You should consider using the '--warmup' option to fill those caches before the actual benchmark. Alternatively, use the '--prepare' option to clear the caches before each timing run.
```


#### Depth 10 measurement
```bash
hyperfine --runs 5 'zokrates compute-witness -a 3697026603744776860257388740776136268898199821934756046074784145149692832992 13364467040877378661882946489652672263278923250515434007590298900477661458480 4076507302008794980516877019668947419186151391281488322824772538552913573041 14516074356687482698875246148670380110551642657423173707414013761417774346063 13586767835527805511117784482417136334810082782180048428319204998830927203424 3814687126 4207057211 2301474087 1696421512 1054042432 4114589074 2402006685 2358319779 2636307903 771130895 3338794104 910337493 3941248527 2566242658 3403499691 2178970740 2780070436 59738663 1645461473 534297178 1910759638 3322112274 1297763356 629541565 38654257 3305789272 2153894818 222417624 3572959456 4252490776 2872080752 2967572678 1 0 0 0 0 0 0 0 0 0 2576817173 85244481 2596561856 2255375492 2794840420 1782105243 2233078322 224377663 2868205599 2537009619 1620830863 3872042866 3969069788 1888500782 3572146597 3847022253 2836095705 235016979 3924538583 2295676569 1346335958 4045419796 3885894217 2899768670 2662873574 2776819738 4169635575 215831002 2546324098 2868684311 1621128226 2970965221 2764362413 2154280342 2932117484 1459218082 2997336012 1549461915 101902398 2264250305 2930015840 2321511960 1470280671 155374319 2535829433 1029561825 2723201146 2038818870 280440794 2669576670 213771388 1616405657 2083766662 3260669584 1831970450 1710683843 2408855228 1079018165 2214813011 2125881869 799556152 241244772 2789497932 1981448089 2396270100 581138062 183963467 1786945471 909715492 3791725341 50298776 3912496056 2291351018 1747045928 583503599 3609069204 2296515330 3978121736 3936207279 4136468773' --export-json 10_zok_compute_witness.json
Benchmark 1: zokrates compute-witness -a 3697026603744776860257388740776136268898199821934756046074784145149692832992 13364467040877378661882946489652672263278923250515434007590298900477661458480 4076507302008794980516877019668947419186151391281488322824772538552913573041 14516074356687482698875246148670380110551642657423173707414013761417774346063 13586767835527805511117784482417136334810082782180048428319204998830927203424 3814687126 4207057211 2301474087 1696421512 1054042432 4114589074 2402006685 2358319779 2636307903 771130895 3338794104 910337493 3941248527 2566242658 3403499691 2178970740 2780070436 59738663 1645461473 534297178 1910759638 3322112274 1297763356 629541565 38654257 3305789272 2153894818 222417624 3572959456 4252490776 2872080752 2967572678 1 0 0 0 0 0 0 0 0 0 2576817173 85244481 2596561856 2255375492 2794840420 1782105243 2233078322 224377663 2868205599 2537009619 1620830863 3872042866 3969069788 1888500782 3572146597 3847022253 2836095705 235016979 3924538583 2295676569 1346335958 4045419796 3885894217 2899768670 2662873574 2776819738 4169635575 215831002 2546324098 2868684311 1621128226 2970965221 2764362413 2154280342 2932117484 1459218082 2997336012 1549461915 101902398 2264250305 2930015840 2321511960 1470280671 155374319 2535829433 1029561825 2723201146 2038818870 280440794 2669576670 213771388 1616405657 2083766662 3260669584 1831970450 1710683843 2408855228 1079018165 2214813011 2125881869 799556152 241244772 2789497932 1981448089 2396270100 581138062 183963467 1786945471 909715492 3791725341 50298776 3912496056 2291351018 1747045928 583503599 3609069204 2296515330 3978121736 3936207279 4136468773
  Time (mean ± σ):      1.414 s ±  0.022 s    [User: 1.349 s, System: 0.059 s]
  Range (min … max):    1.400 s …  1.453 s    5 runs

(env) user@pc measure % hyperfine --runs 5 'zokrates setup' --export-json 10_zok_setup.json
Benchmark 1: zokrates setup
  Time (mean ± σ):      2.374 s ±  0.069 s    [User: 7.827 s, System: 0.274 s]
  Range (min … max):    2.324 s …  2.491 s    5 runs

(env) user@pc measure % hyperfine --runs 5 'zokrates generate-proof' --export-json 10_zok_gen_proof.json
Benchmark 1: zokrates generate-proof
  Time (mean ± σ):      2.207 s ±  0.116 s    [User: 5.979 s, System: 0.303 s]
  Range (min … max):    2.141 s …  2.415 s    5 runs
 
  Warning: Statistical outliers were detected. Consider re-running this benchmark on a quiet system without any interferences from other programs. It might help to use the '--warmup' or '--prepare' options.

(env) user@pc measure % du -hs *
4.0K	10_proof_inputs.txt
4.0K	10_zok_compute_witness.json
4.0K	10_zok_gen_proof.json
4.0K	10_zok_setup.json
4.0K	abi.json
4.0K	create-input.py
4.0K	evalplot.ipynb
4.0K	loan_proof.zok
304M	out
128M	out.r1cs
5.0M	out.wtns
4.0K	proof.json
 61M	proving.key
8.0K	verification.key
6.1M	witness

(env) user@pc measure % hyperfine --runs 5 'zokrates verify' --export-json 10_zok_verify.json
Benchmark 1: zokrates verify
  Time (mean ± σ):       6.3 ms ±   2.3 ms    [User: 3.8 ms, System: 1.4 ms]
  Range (min … max):     5.0 ms …  10.3 ms    5 runs
 
  Warning: Command took less than 5 ms to complete. Note that the results might be inaccurate because hyperfine can not calibrate the shell startup time much more precise than this limit. You can try to use the `-N`/`--shell=none` option to disable the shell completely.
```